{"version":3,"file":"modal.js","sourceRoot":"","sources":["../../../src/components/modal/modal.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component } from '@angular/core';\nimport { NavController, NavParams, ViewController } from 'ionic-angular';\nimport { differenceBy, orderBy } from 'lodash';\nimport { cloneDeep } from 'lodash';\n\n@Component({\n  selector: 'modal',\n  templateUrl: 'modal.html'\n})\nexport class ModalComponent {\n\n  public listRearrange: any = []\n  public lists: { id: number; name: string; checked: boolean; }[];\n  public selectedList: { id: number; name: string; checked: boolean; }[];\n  public extras: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, public viewCtrl: ViewController) {\n\n    this.lists = cloneDeep(navParams.get('list'));\n    this.selectedList = cloneDeep(navParams.get('selected'));\n    this.extras = navParams.get('extras');\n\n  }\n\n  ngOnInit() {\n    this.setItems();\n  }\n\n  setItems() {\n    this.listRearrange = [];\n    this.selectedList = orderBy(this.selectedList, [item => item.name.toLowerCase()], ['asc']);\n    this.selectedList.forEach(element => {\n      this.listRearrange.push(element);\n    });\n    let list: any = differenceBy(this.lists, this.selectedList, 'id');\n    list = orderBy(list, [item => item.name.toLowerCase()], ['asc']);\n    list.forEach(element => {\n      this.listRearrange.push(element);\n    });\n  }\n\n  filterItems(ev: any) {\n    this.setItems();\n    let val = ev.target.value;\n    if (val && val.trim() !== '') {\n      this.listRearrange = this.listRearrange.filter(function (item) {\n        return item.name.toLowerCase().includes(val.toLowerCase());\n      });\n    }\n  }\n\n  dismiss(option) {\n    if (option == \"save\") {\n      this.viewCtrl.dismiss(this.selectedList);\n    }\n    else {\n      this.viewCtrl.dismiss('cancel');\n    }\n\n  }\n\n  selectItem(data) {\n    if (data.checked == true) {\n      this.selectedList.push(data);\n    } else {\n      let newArray = this.selectedList.filter(function (el) {\n        return el.id !== data.id;\n      });\n      this.selectedList = newArray;\n    }\n  }\n\n}\n"]}